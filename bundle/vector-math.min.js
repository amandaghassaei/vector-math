!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports):"function"==typeof define&&define.amd?define(["exports"],s):s((t="undefined"!=typeof globalThis?globalThis:t||self).VECTOR_MATH={})}(this,(function(t){"use strict";const s=1e-15;class i{constructor(t,s){this.x=t||0,this.y=s||0}set(t,s){return this.x=t,this.y=s,this}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.x-=t.x,this.y-=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divideScalar(t){return 0===t&&console.warn("Dividing by zero in Vector2.divideScalar()."),this.multiplyScalar(1/t)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}lengthSq(){return this.dot(this)}length(){return Math.sqrt(this.lengthSq())}normalize(){let t=this.length();return 0===t&&(console.warn("Attempting to normalize zero length Vector2."),t=1),this.divideScalar(t),this}applyMatrix3(t){if(t.isIdentity)return this;const s=this.x,i=this.y,e=t.elements;return this.x=e[0]*s+e[1]*i+e[2],this.y=e[3]*s+e[4]*i+e[5],this}copy(t){return this.x=t.x,this.y=t.y,this}equals(t){return this.x===t.x&&this.y===t.y}isZero(){return 0===this.x&&0===this.y}clone(){return new i(this.x,this.y)}toArray(){return[this.x,this.y]}}class e{constructor(t,s,i){this.x=t||0,this.y=s||0,this.z=i||0}set(t,s,i){return this.x=t,this.y=s,this.z=i,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}divideScalar(t){return 0===t&&console.warn("Dividing by zero in Vector3.divideScalar()."),this.multiplyScalar(1/t)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){const s=this.x,i=this.y,e=this.z,n=t.x,r=t.y,h=t.z;return this.x=i*h-e*r,this.y=e*n-s*h,this.z=s*r-i*n,this}lengthSq(){return this.dot(this)}length(){return Math.sqrt(this.lengthSq())}normalize(){let t=this.length();return 0===t&&(console.warn("Attempting to normalize zero length Vector3."),t=1),this.divideScalar(t),this}applyMatrix4(t){if(t.isIdentity)return this;const s=this.x,i=this.y,e=this.z,n=t.elements;return this.x=n[0]*s+n[1]*i+n[2]*e+n[3],this.y=n[4]*s+n[5]*i+n[6]*e+n[7],this.z=n[8]*s+n[9]*i+n[10]*e+n[11],this}applyMatrix4RotationComponent(t){if(t.isIdentity)return this;const s=this.x,i=this.y,e=this.z,n=t.elements;return this.x=n[0]*s+n[1]*i+n[2]*e,this.y=n[4]*s+n[5]*i+n[6]*e,this.z=n[8]*s+n[9]*i+n[10]*e,this}applyQuaternion(t){const s=this.x,i=this.y,e=this.z,n=t.x,r=t.y,h=t.z,o=t.w,a=o*s+r*e-h*i,y=o*i+h*s-n*e,l=o*e+n*i-r*s,u=-n*s-r*i-h*e;return this.x=a*o+u*-n+y*-h-l*-r,this.y=y*o+u*-r+l*-n-a*-h,this.z=l*o+u*-h+a*-r-y*-n,this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}clone(){return new e(this.x,this.y,this.z)}toArray(){return[this.x,this.y,this.z]}}class n{constructor(t,s,i,e,r,h,o){void 0!==t?(this._elements=[t,s,i,e,r,h],this._isIdentity=void 0===o?n._checkElementForIdentity(this._elements):o):(this._elements=[1,0,0,0,1,0],this._isIdentity=!0)}set elements(t){throw new Error("No elements setter on Matrix3.")}get elements(){return this._elements}set isIdentity(t){throw new Error("No isIdentity setter on Matrix3.")}get isIdentity(){return this._isIdentity}_set(t,s,i,e,n,r){const{_elements:h}=this;return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h[4]=n,h[5]=r,this}setIdentity(){return this._set(1,0,0,0,1,0),this._isIdentity=!0,this}static _checkElementForIdentity(t){const[i,e,n,r,h,o]=t;return Math.abs(i-1)<=s&&Math.abs(h-1)<=s&&Math.abs(e)<=s&&Math.abs(n)<=s&&Math.abs(r)<=s&&Math.abs(o)<=s}setFromRotationTranslation(t,s){if(0===t&&0===s.x&&0===s.y)return this.setIdentity();const i=Math.cos(t),e=-Math.sin(t),n=-e,r=i,h=s.x*i+s.y*e,o=s.x*n+s.y*r;return this._set(i,e,h,n,r,o),this._isIdentity=!1,this}equals(t){const s=this.elements,i=t.elements;for(let t=0,e=s.length;t<e;t++)if(s[t]!==i[t])return!1;return!0}copy(t){const{elements:s}=t;return this._set(s[0],s[1],s[2],s[3],s[4],s[5]),this._isIdentity=t.isIdentity,this}clone(){const{_elements:t}=this;return new n(t[0],t[1],t[2],t[3],t[4],t[5],this._isIdentity)}}class r{constructor(t,s,i,e,n,h,o,a,y,l,u,_,c){void 0!==t?(this._elements=[t,s,i,e,n,h,o,a,y,l,u,_],this._isIdentity=void 0===c?r._checkElementsForIdentity(this._elements):c):(this._elements=[1,0,0,0,0,1,0,0,0,0,1,0],this._isIdentity=!0)}set elements(t){throw new Error("No elements setter on Matrix4.")}get elements(){return this._elements}set isIdentity(t){throw new Error("No isIdentity setter on Matrix4.")}get isIdentity(){return this._isIdentity}static _checkElementsForIdentity(t){const[i,e,n,r,h,o,a,y,l,u,_,c]=t;return Math.abs(i-1)<=s&&Math.abs(o-1)<=s&&Math.abs(_-1)<=s&&Math.abs(e)<=s&&Math.abs(n)<=s&&Math.abs(r)<=s&&Math.abs(h)<=s&&Math.abs(a)<=s&&Math.abs(y)<=s&&Math.abs(l)<=s&&Math.abs(u)<=s&&Math.abs(c)<=s}_set(t,s,i,e,n,r,h,o,a,y,l,u){const{_elements:_}=this;return _[0]=t,_[1]=s,_[2]=i,_[3]=e,_[4]=n,_[5]=r,_[6]=h,_[7]=o,_[8]=a,_[9]=y,_[10]=l,_[11]=u,this}setIdentity(){return this._set(1,0,0,0,0,1,0,0,0,0,1,0),this._isIdentity=!0,this}premultiplyMatrix4(t){return r._multiplyMatrices(this,t,this)}multiplyMatrix4(t){return r._multiplyMatrices(this,this,t)}static _multiplyMatrices(t,s,i){if(s.isIdentity)return t.copy(i);if(i.isIdentity)return t.copy(s);const{_elements:e}=t,n=s.elements,h=i.elements,o=n[0],a=n[1],y=n[2],l=n[3],u=n[4],_=n[5],c=n[6],x=n[7],d=n[8],m=n[9],z=n[10],M=n[11],w=h[0],p=h[1],I=h[2],f=h[3],g=h[4],b=h[5],E=h[6],v=h[7],S=h[8],A=h[9],q=h[10],N=h[11];return e[0]=o*w+a*g+y*S,e[1]=o*p+a*b+y*A,e[2]=o*I+a*E+y*q,e[3]=o*f+a*v+y*N+l,e[4]=u*w+_*g+c*S,e[5]=u*p+_*b+c*A,e[6]=u*I+_*E+c*q,e[7]=u*f+_*v+c*N+x,e[8]=d*w+m*g+z*S,e[9]=d*p+m*b+z*A,e[10]=d*I+m*E+z*q,e[11]=d*f+m*v+z*N+M,t._isIdentity=r._checkElementsForIdentity(e),t}setRotationAxisAngleAtOffset(t,s,i){if(0===s)return this.setIdentity();const e=Math.cos(s),n=Math.sin(s),r=1-e,h=t.x,o=t.y,a=t.z,y=r*h,l=r*o,u=y*h+e,_=y*o-n*a,c=y*a+n*o,x=y*o+n*a,d=l*o+e,m=l*a-n*h,z=y*a-n*o,M=l*a+n*h,w=r*a*a+e;return i?this._setRotationMatrixAtOffset(u,_,c,x,d,m,z,M,w,i):this._set(u,_,c,0,x,d,m,0,z,M,w,0),this._isIdentity=!1,this}setReflectionNormalAtOffset(t,s){const i=t.x,e=t.y,n=t.z,r=1-2*i*i,h=-2*i*e,o=-2*i*n,a=h,y=1-2*e*e,l=-2*e*n,u=o,_=l,c=1-2*n*n;return s?this._setRotationMatrixAtOffset(r,h,o,a,y,l,u,_,c,s):this._set(r,h,o,0,a,y,l,0,u,_,c,0),this._isIdentity=!1,this}_setRotationMatrixAtOffset(t,s,i,e,n,r,h,o,a,y){const l=-y.x*(t-1)-y.y*s-y.z*i,u=-y.x*e-y.y*(n-1)-y.z*r,_=-y.x*h-y.y*o-y.z*(a-1);this._set(t,s,i,l,e,n,r,u,h,o,a,_)}invertTransform(){if(this._isIdentity)return this;const{_elements:t}=this,s=t[0],i=t[4],e=t[8],n=t[1],r=t[5],h=t[9],o=t[2],a=t[6],y=t[10],l=t[3],u=t[7],_=t[11],c=-s*l-i*u-e*_,x=-n*l-r*u-h*_,d=-o*l-a*u-y*_;return this._set(s,i,e,c,n,r,h,x,o,a,y,d),this}equals(t){const s=this.elements,i=t.elements;for(let t=0,e=s.length;t<e;t++)if(s[t]!==i[t])return!1;return!0}copy(t){const{elements:s}=t;return this._set(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11]),this._isIdentity=t.isIdentity,this}clone(){const{_elements:t}=this;return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],this._isIdentity)}}class h{constructor(t,s,i,e){this._x=t||0,this._y=s||0,this._z=i||0,this._w=void 0!==e?e:1}set x(t){throw new Error("No x setter on Quaternion.")}get x(){return this._x}set y(t){throw new Error("No y setter on Quaternion.")}get y(){return this._y}set z(t){throw new Error("No z setter on Quaternion.")}get z(){return this._z}set w(t){throw new Error("No w setter on Quaternion.")}get w(){return this._w}setFromUnitVectors(t,s){let i=t.x*s.x+t.y*s.y+t.z*s.z+1;return i<=Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*s.z-t.z*s.y,this._y=t.z*s.x-t.x*s.z,this._z=t.x*s.y-t.y*s.x,this._w=i),this.normalize()}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this.lengthSq())}normalize(){let t=this.length();return 0===t?(console.warn("Attempting to normalize zero length Quaternion."),this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this}multiply(t){return h._multiplyQuaternions(this,this,t)}premultiply(t){return h._multiplyQuaternions(this,t,this)}static _multiplyQuaternions(t,s,i){const e=s.x,n=s.y,r=s.z,h=s.w,o=i.x,a=i.y,y=i.z,l=i.w;return t._x=e*l+h*o+n*y-r*a,t._y=n*l+h*a+r*o-e*y,t._z=r*l+h*y+e*a-n*o,t._w=h*l-e*o-n*a-r*y,t}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this}clone(){return new h(this._x,this._y,this._z,this._w)}}t.Matrix3=n,t.Matrix4=r,t.NUMERICAL_TOLERANCE=s,t.Quaternion=h,t.Vector2=i,t.Vector3=e,t.clampValue=function(t,s,i){return Math.max(Math.min(t,i),s)},t.degreesToRadians=function(t){return t/180*Math.PI},t.radiansToDegrees=function(t){return 180*t/Math.PI},t.roundValueToIncrement=function(t,s){var i;if(0===s)return t;if(s<0)throw new Error(`Invalid coarse step: ${s}.`);const e=Math.round(t/s)*s,n=(null===(i=s.toString().split(".")[1])||void 0===i?void 0:i.length)||0;return parseFloat(e.toFixed(n))}}));
//# sourceMappingURL=vector-math.min.js.map
