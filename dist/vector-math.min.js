!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).VECTOR_MATH={})}(this,(function(t){"use strict";var e=1e-15;var i=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divideScalar=function(t){return 0===t&&console.warn("Dividing by zero in Vector2.divideScalar()."),this.multiplyScalar(1/t)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.angle=function(){return Math.atan2(-this.y,-this.x)+Math.PI},t.prototype.lengthSq=function(){return this.dot(this)},t.prototype.length=function(){return Math.sqrt(this.lengthSq())},t.prototype.normalize=function(){var t=this.length();return 0===t&&(console.warn("Attempting to normalize zero length Vector2."),t=1),this.divideScalar(t),this},t.prototype.applyMatrix3=function(t){if(t.isIdentity)return this;var e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[1]*i+n[2],this.y=n[3]*e+n[4]*i+n[5],this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.isZero=function(){return 0===this.x&&0===this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toArray=function(){return[this.x,this.y]},t}(),n=function(){function t(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}return t.prototype.set=function(t,e,i){return this.x=t,this.y=e,this.z=i,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.divideScalar=function(t){return 0===t&&console.warn("Dividing by zero in Vector3.divideScalar()."),this.multiplyScalar(1/t)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.cross=function(t){var e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,o=t.z;return this.x=i*o-n*s,this.y=n*r-e*o,this.z=e*s-i*r,this},t.prototype.lengthSq=function(){return this.dot(this)},t.prototype.length=function(){return Math.sqrt(this.lengthSq())},t.prototype.normalize=function(){var t=this.length();return 0===t&&(console.warn("Attempting to normalize zero length Vector3."),t=1),this.divideScalar(t),this},t.prototype.applyMatrix4=function(t){if(t.isIdentity)return this;var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[1]*i+r[2]*n+r[3],this.y=r[4]*e+r[5]*i+r[6]*n+r[7],this.z=r[8]*e+r[9]*i+r[10]*n+r[11],this},t.prototype.applyMatrix4RotationComponent=function(t){if(t.isIdentity)return this;var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[1]*i+r[2]*n,this.y=r[4]*e+r[5]*i+r[6]*n,this.z=r[8]*e+r[9]*i+r[10]*n,this},t.prototype.applyQuaternion=function(t){var e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,o=t.z,h=t.w,u=h*e+s*n-o*i,y=h*i+o*e-r*n,a=h*n+r*i-s*e,p=-r*e-s*i-o*n;return this.x=u*h+p*-r+y*-o-a*-s,this.y=y*h+p*-s+a*-r-u*-o,this.z=a*h+p*-o+u*-s-y*-r,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.isZero=function(){return 0===this.x&&0===this.y&&0===this.z},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.prototype.toArray=function(){return[this.x,this.y,this.z]},t}(),r=function(){function t(e,i,n,r,s,o,h){void 0!==e?(this._elements=[e,i,n,r,s,o],this._isIdentity=void 0===h?t._checkElementForIdentity(this._elements):h):(this._elements=[1,0,0,0,1,0],this._isIdentity=!0)}return Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(t){throw new Error("No elements setter on Matrix3.")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIdentity",{get:function(){return this._isIdentity},set:function(t){throw new Error("No isIdentity setter on Matrix3.")},enumerable:!1,configurable:!0}),t.prototype._set=function(t,e,i,n,r,s){var o=this._elements;return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=r,o[5]=s,this},t.prototype.setIdentity=function(){return this._set(1,0,0,0,1,0),this._isIdentity=!0,this},t._checkElementForIdentity=function(t){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],h=t[5];return Math.abs(i-1)<=e&&Math.abs(o-1)<=e&&Math.abs(n)<=e&&Math.abs(r)<=e&&Math.abs(s)<=e&&Math.abs(h)<=e},t.prototype.setFromRotationTranslation=function(t,e){if(0===t&&0===e.x&&0===e.y)return this.setIdentity();var i=Math.cos(t),n=-Math.sin(t),r=-n,s=i,o=e.x*i+e.y*n,h=e.x*r+e.y*s;return this._set(i,n,o,r,s,h),this._isIdentity=!1,this},t.prototype.equals=function(t){for(var e=this.elements,i=t.elements,n=0,r=e.length;n<r;n++)if(e[n]!==i[n])return!1;return!0},t.prototype.copy=function(t){var e=t.elements;return this._set(e[0],e[1],e[2],e[3],e[4],e[5]),this._isIdentity=t.isIdentity,this},t.prototype.clone=function(){var e=this._elements;return new t(e[0],e[1],e[2],e[3],e[4],e[5],this._isIdentity)},t}(),s=function(){function t(e,i,n,r,s,o,h,u,y,a,p,c,l){void 0!==e?(this._elements=[e,i,n,r,s,o,h,u,y,a,p,c],this._isIdentity=void 0===l?t._checkElementsForIdentity(this._elements):l):(this._elements=[1,0,0,0,0,1,0,0,0,0,1,0],this._isIdentity=!0)}return Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(t){throw new Error("No elements setter on Matrix4.")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIdentity",{get:function(){return this._isIdentity},set:function(t){throw new Error("No isIdentity setter on Matrix4.")},enumerable:!1,configurable:!0}),t._checkElementsForIdentity=function(t){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],h=t[5],u=t[6],y=t[7],a=t[8],p=t[9],c=t[10],l=t[11];return Math.abs(i-1)<=e&&Math.abs(h-1)<=e&&Math.abs(c-1)<=e&&Math.abs(n)<=e&&Math.abs(r)<=e&&Math.abs(s)<=e&&Math.abs(o)<=e&&Math.abs(u)<=e&&Math.abs(y)<=e&&Math.abs(a)<=e&&Math.abs(p)<=e&&Math.abs(l)<=e},t.prototype._set=function(t,e,i,n,r,s,o,h,u,y,a,p){var c=this._elements;return c[0]=t,c[1]=e,c[2]=i,c[3]=n,c[4]=r,c[5]=s,c[6]=o,c[7]=h,c[8]=u,c[9]=y,c[10]=a,c[11]=p,this},t.prototype.setIdentity=function(){return this._set(1,0,0,0,0,1,0,0,0,0,1,0),this._isIdentity=!0,this},t.prototype.premultiplyMatrix4=function(e){return t._multiplyMatrices(this,e,this)},t.prototype.multiplyMatrix4=function(e){return t._multiplyMatrices(this,this,e)},t._multiplyMatrices=function(e,i,n){if(i.isIdentity)return e.copy(n);if(n.isIdentity)return e.copy(i);var r=e._elements,s=i.elements,o=n.elements,h=s[0],u=s[1],y=s[2],a=s[3],p=s[4],c=s[5],l=s[6],f=s[7],_=s[8],x=s[9],d=s[10],m=s[11],z=o[0],M=o[1],b=o[2],v=o[3],w=o[4],g=o[5],I=o[6],E=o[7],S=o[8],O=o[9],A=o[10],q=o[11];return r[0]=h*z+u*w+y*S,r[1]=h*M+u*g+y*O,r[2]=h*b+u*I+y*A,r[3]=h*v+u*E+y*q+a,r[4]=p*z+c*w+l*S,r[5]=p*M+c*g+l*O,r[6]=p*b+c*I+l*A,r[7]=p*v+c*E+l*q+f,r[8]=_*z+x*w+d*S,r[9]=_*M+x*g+d*O,r[10]=_*b+x*I+d*A,r[11]=_*v+x*E+d*q+m,e._isIdentity=t._checkElementsForIdentity(r),e},t.prototype.setRotationAxisAngleAtOffset=function(t,e,i){if(0===e)return this.setIdentity();var n=Math.cos(e),r=Math.sin(e),s=1-n,o=t.x,h=t.y,u=t.z,y=s*o,a=s*h,p=y*o+n,c=y*h-r*u,l=y*u+r*h,f=y*h+r*u,_=a*h+n,x=a*u-r*o,d=y*u-r*h,m=a*u+r*o,z=s*u*u+n;return i?this._setRotationMatrixAtOffset(p,c,l,f,_,x,d,m,z,i):this._set(p,c,l,0,f,_,x,0,d,m,z,0),this._isIdentity=!1,this},t.prototype.setReflectionNormalAtOffset=function(t,e){var i=t.x,n=t.y,r=t.z,s=1-2*i*i,o=-2*i*n,h=-2*i*r,u=o,y=1-2*n*n,a=-2*n*r,p=h,c=a,l=1-2*r*r;return e?this._setRotationMatrixAtOffset(s,o,h,u,y,a,p,c,l,e):this._set(s,o,h,0,u,y,a,0,p,c,l,0),this._isIdentity=!1,this},t.prototype._setRotationMatrixAtOffset=function(t,e,i,n,r,s,o,h,u,y){var a=-y.x*(t-1)-y.y*e-y.z*i,p=-y.x*n-y.y*(r-1)-y.z*s,c=-y.x*o-y.y*h-y.z*(u-1);this._set(t,e,i,a,n,r,s,p,o,h,u,c)},t.prototype.invertTransform=function(){if(this._isIdentity)return this;var t=this._elements,e=t[0],i=t[4],n=t[8],r=t[1],s=t[5],o=t[9],h=t[2],u=t[6],y=t[10],a=t[3],p=t[7],c=t[11],l=-e*a-i*p-n*c,f=-r*a-s*p-o*c,_=-h*a-u*p-y*c;return this._set(e,i,n,l,r,s,o,f,h,u,y,_),this},t.prototype.equals=function(t){for(var e=this.elements,i=t.elements,n=0,r=e.length;n<r;n++)if(e[n]!==i[n])return!1;return!0},t.prototype.copy=function(t){var e=t.elements;return this._set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]),this._isIdentity=t.isIdentity,this},t.prototype.clone=function(){var e=this._elements;return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],this._isIdentity)},t}(),o=function(){function t(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){throw new Error("No x setter on Quaternion.")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){throw new Error("No y setter on Quaternion.")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){throw new Error("No z setter on Quaternion.")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){throw new Error("No w setter on Quaternion.")},enumerable:!1,configurable:!0}),t.prototype.setFromUnitVectors=function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z+1;return i<=Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},t.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.prototype.length=function(){return Math.sqrt(this.lengthSq())},t.prototype.normalize=function(){var t=this.length();return 0===t?(console.warn("Attempting to normalize zero length Quaternion."),this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this},t.prototype.multiply=function(e){return t._multiplyQuaternions(this,this,e)},t.prototype.premultiply=function(e){return t._multiplyQuaternions(this,e,this)},t._multiplyQuaternions=function(t,e,i){var n=e.x,r=e.y,s=e.z,o=e.w,h=i.x,u=i.y,y=i.z,a=i.w;return t._x=n*a+o*h+r*y-s*u,t._y=r*a+o*u+s*h-n*y,t._z=s*a+o*y+n*u-r*h,t._w=o*a-n*h-r*u-s*y,t},t.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._w)},t}();t.Matrix3=r,t.Matrix4=s,t.NUMERICAL_TOLERANCE=e,t.Quaternion=o,t.Vector2=i,t.Vector3=n,t.clampValue=function(t,e,i){return Math.max(Math.min(t,i),e)},t.degreesToRadians=function(t){return t/180*Math.PI},t.radiansToDegrees=function(t){return 180*t/Math.PI},t.roundValueToIncrement=function(t,e){var i;if(0===e)return t;if(e<0)throw new Error("Invalid coarse step: ".concat(e,"."));var n=Math.round(t/e)*e,r=(null===(i=e.toString().split(".")[1])||void 0===i?void 0:i.length)||0;return parseFloat(n.toFixed(r))}}));
//# sourceMappingURL=vector-math.min.js.map
